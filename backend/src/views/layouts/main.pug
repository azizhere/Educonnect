doctype html
html
  head
    title EduConnect
    link(rel="stylesheet" href="/css/style.css")
    link(rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css")

  body(style="padding-top:70px; padding-bottom:70px;") 
    include ../partials/navbar.pug

    // Toast Container
    #toast-container(position="fixed" style="top:20px; right:20px; z-index:9999")

    // Hidden Toast Template
    #toastTemplate.toast.align-items-center.text-white.bg-dark.border-0(
      role="alert" aria-live="assertive" aria-atomic="true"
      style="display:none"
    )
      .d-flex
        .toast-body Toast Message
        button.btn-close.btn-close-white.me-2.m-auto(type="button" data-bs-dismiss="toast")

    // Page Content Block
    block content

    // Allow inner pages to add scripts
    block scripts
    include ../partials/footer.pug

    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js")

    // Correct TOAST SCRIPT
    script.
      function showToast(msg) {
        let template = document.getElementById("toastTemplate");
        let newToast = template.cloneNode(true);

        newToast.removeAttribute("id");
        newToast.style.display = "block";
        newToast.querySelector(".toast-body").innerText = msg;

        document.getElementById("toast-container").appendChild(newToast);

        let toast = new bootstrap.Toast(newToast);
        toast.show();
      }

      // AUTO SHOW TOAST IF SERVER SENT IT
      if ("#{toast}" && "#{toast}" !== "null" && "#{toast}".trim() !== "") {
        showToast("#{toast}");
      }
