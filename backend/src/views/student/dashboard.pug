extends ../layouts/main.pug

block content
  .container.mt-4
    h1.text-center.mb-4 Student Dashboard

    // ====== Top Row: Counts ======
    .row.g-4
      // Courses Count
      .col-md-3
        .card.shadow-sm.border-primary.h-100
          .card-body.text-center
            h4.mb-3 
              i.bi.bi-journal-bookmark.me-2
              Courses
            p.display-6 #{courses.length}
            a.btn.btn-sm.btn-primary.mt-2(href="/student/courses") View Courses

      // Pending Assignments Count
      .col-md-3
        .card.shadow-sm.border-warning.h-100
          .card-body.text-center
            h4.mb-3 
              i.bi.bi-file-earmark-text.me-2
              Pending Assignments
            p.display-6 #{assignments.length}
            a.btn.btn-sm.btn-warning.mt-2(href="/student/assignments") View Assignments

      // Graded Assignments Count
      .col-md-3
        .card.shadow-sm.border-info.h-100
          .card-body.text-center
            h4.mb-3 
              i.bi.bi-award.me-2
              Graded
            p.display-6 #{grades.length}
            a.btn.btn-sm.btn-info.mt-2(href="/student/grades") View Grades

      // Attendance Progress
      .col-md-3
        .card.shadow-sm.border-success.h-100
          .card-body.text-center
            h4.mb-3
              i.bi.bi-check-circle.me-2
              Attendance
            p.mb-2 Total: #{attendance[0].total_classes || 0}
            p.mb-2 Present: #{attendance[0].present || 0}
            - var percent = attendance[0].total_classes ? Math.round((attendance[0].present / attendance[0].total_classes) * 100) : 0
            .progress.mb-2
              .progress-bar.bg-success(role="progressbar" style=`width: ${percent}%`) #{percent}%
            a.btn.btn-sm.btn-success.mt-2(href="/student/attendance") View Attendance

    // ====== Timetable Count ======
    .row.mt-5
      .col-12
        .card.shadow-sm
          .card-body.text-center
            h4.mb-3
              i.bi.bi-calendar-event.me-2
              Scheduled Classes
            p.display-6 #{timetable.length}
            a.btn.btn-sm.btn-primary.mt-2(href="/student/timetable") View Timetable
