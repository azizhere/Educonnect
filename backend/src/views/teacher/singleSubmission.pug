extends ../layouts/main

block content
  .container.mt-4
    h2 Submission Details

    h4 Assignment: #{submission.assignment_title}
    h4 Student: #{submission.student_name}

    hr

    a.btn.btn-success(href=submission.file_url target="_blank") Download File

    hr

    h3 Grade Student

    form(method="POST" action=`/teacher/submissions/${submission.id}/grade`)
      .mb-3
        label Grade(0-100)

        input.form-control(
          type="number"
          name="grade"
          required
          value=submission.grade
          min="0"
          max="100"
        )

      .mb-3
        label Feedback
        textarea.form-control(name="feedback") #{submission.feedback}

      button.btn.btn-primary(type="submit") Save Grade

    //- Script should be inside block content
    script.
      const gradeInput = document.querySelector('input[name="grade"]');
      gradeInput.addEventListener('input', function() {
        if (this.value > 100) this.value = 100;
        if (this.value < 0) this.value = 0;
      });
